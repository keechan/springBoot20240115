<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.rubypaper.project.shop.ShopDao">
 
  <select id="shopList" 
          parameterType="com.rubypaper.project.shop.ShopVO"
          resultType="com.rubypaper.project.shop.ShopVO" >
    select *  from  ShopTbl0116  order  by  productId desc
  </select> 
  
  <select id="seq_ShopTbl0116" resultType="int" >
    select seq_ShopTbl0116.nextval  from  dual
  </select> 
    
  <select id="getShopEdit"
          parameterType="com.rubypaper.project.shop.ShopVO"
          resultType="com.rubypaper.project.shop.ShopVO" >
    select *  from  ShopTbl0116 where productId = #{productId}
  </select> 
  
  <delete id="shopDelete" 
         parameterType="com.rubypaper.project.shop.ShopVO" >

  delete  from ShopTbl0116 where productId = #{productId}
 
 </delete> 
  
 
 <insert id="shopInsert" 
         parameterType="com.rubypaper.project.shop.ShopVO" >

  insert  into ShopTbl0116 (productId, productName, productPrice, productDesc , productImg)
  values (#{productId},#{productName},#{productPrice},#{productDesc},#{productImg})
 
 </insert> 


 <select id="CartList"
          parameterType="com.rubypaper.project.shop.CartVO"
          resultType="com.rubypaper.project.shop.CartVO" >
    select *  from  CartTbll0116 where sessionID=#{sessionID} order  by cartId  desc 
   </select> 
 
   <select id="getCartEdit"
          parameterType="com.rubypaper.project.shop.CartVO"
          resultType="com.rubypaper.project.shop.CartVO" >
    select *  from  CartTbll0116 where productId = #{productId} and sessionID=#{sessionID}
  </select> 
  
 
  <delete id="CartDelete" 
         parameterType="com.rubypaper.project.shop.CartVO" >

  delete  from CartTbll0116 where cartId = #{cartId}
 
 </delete> 
 
 <update id="CartUpdate" 
         parameterType="com.rubypaper.project.shop.CartVO" >

  update  CartTbll0116 set amount = amount + #{amount}   where productId = #{productId}
 
 </update> 
 
  <insert id="CartInsert" 
         parameterType="com.rubypaper.project.shop.CartVO" >

  insert  into CartTbll0116 (cartId,sessionID , productId ,productName, productPrice, amount)
  values (seq_ShopTbl0116.nextval,#{sessionID},#{productId},#{productName},#{productPrice},#{amount})
 
 </insert> 
 
 </mapper>