package com.korea.controller;

import java.util.Random;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

import com.korea.test.logint.LogintServiceImpl;
import com.korea.test.logint.LogintVO;

@Controller
public class LogintController {
	@Autowired 
	LogintServiceImpl service;
	
	LogintController(){
		  System.out.println("=>LogintController ");	
	}
	
	@GetMapping("table.do")
	 String LogintRandomFormOk(LogintVO  vo) {		
	   System.out.println("===> table.do");
	   int leftNumber = 48; // letter 'a'
	   int rightNumber = 57; // letter 'z'
	   int targetNumberLength = 4;

	   String generatedNumber = random.ints(leftNumber, rightNumber + 1)
	           .limit(targetNumberLength)
	           .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)
	           .toString();
	   for(int i=1;i<=5;i++ ) {
		   //Idx1
		   vo.setIdx1(i);
		   System.out.println(i);
		   //Name1

		   System.out.println(generatedString);
		   //Pwd1

		   vo.setPwd1(generatedNumber);
		   System.out.println(generatedNumber);		   
		   service.insertLogint(vo);
	   }

	   return "redirect:index.do";
	}
}